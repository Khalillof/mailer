{% extends "mail/layout.html" %}
{% load static %}

{% block body %}
    <h2 class="text-center">{{ request.user.username }}</h2>

    <button class="btn btn-sm btn-outline-primary" id="inbox">Inbox</button>
    <button class="btn btn-sm btn-outline-primary" id="compose">Compose</button>
    <button class="btn btn-sm btn-outline-primary" id="sent">Sent</button>
    <button class="btn btn-sm btn-outline-primary" id="archived">Archived</button>
    <a class="btn btn-sm btn-outline-danger " href="{% url 'dbdump' %}">Dump database</a>
    <a class="btn btn-sm btn-outline-dark " href="{% url 'logout' %}">Log Out</a>
    <hr>
     

    <div id="emails-view" class=" w-100 p-2">
    </div>

    <div id="compose-view" class="w-100 p-2">
        <h4>New message</h4>
        <form id="compose-form" class="needs-validation" novalidate >
            {% csrf_token %}
            <div class="form-group">
                <label for="subject"> From : </label> <input disabled class="form-control" value="{{ request.user.username }}">
            </div>
            <div class="form-group">
                <label for="subject"> To : </label> <input id="compose-recipients" pattern="[a-zA-Z][a-zA-Z0-9-_.,@]{1,20}"  class="form-control" minlength="3" maxlength="100" required >
                <div class="invalid-feedback">
                    required field.
                </div>
            </div>
            <div class="form-group">
              <label for="subject"> Subject: </label> <input class="form-control" type="text" id="compose-subject"  placeholder="Subject" minlength="3" maxlength="100" required >
                <div class="invalid-feedback">
                    required field.
                </div>
            </div>
            <div class="form-group">
            <label for="subject"> Message Body : </label>
            <textarea class="form-control" id="compose-body"  placeholder="Body" required minlength="3"></textarea>
            <div class="invalid-feedback">
                required field.
            </div>
            </div>

            <div class="form-group">
                <br>
            <input class="btn btn-primary" type="submit">
        </div>
        </form>
    </div>
{% endblock %}



